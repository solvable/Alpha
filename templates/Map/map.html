{% extends 'CRM/base.html' %}
{% load static %}
{% block addhead %}

{% endblock addhead %}

{% block content %}

    <div id="map"></div>



    <script>
    var locations = {{ data_list|safe }};
    var i=0;
    for (i=0;i<locations.length;i++){
                            console.log(locations[i][0]+','+locations[i][1]);

    }


      function initMap() {

        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 12,
          center: {lat: 39.9526, lng: -75.1652}
        });

   var marker, i;

    for (i = 0; i < locations.length; i++) {

        marker = new google.maps.Marker({
            position: new google.maps.LatLng(locations[i][0], locations[i][1]),
            map: map
        })
    }






      }

    console.log(locations);
    </script>
    <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js">
    </script>













    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key={{key}}&callback=initMap"
    async defer></script>
{% endblock content %}